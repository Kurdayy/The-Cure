[gd_scene load_steps=5 format=3 uid="uid://08lhk2uvv4jx"]

[ext_resource type="Script" uid="uid://c1mx7iv3y3lcp" path="res://Scripts/room.gd" id="1_wensy"]
[ext_resource type="Texture2D" uid="uid://chpq21b6cgcf0" path="res://Backgrounds/bg_a_hall0.png" id="2_w3fhh"]
[ext_resource type="Script" uid="uid://durtuac7kceol" path="res://Scripts/room_transition.gd" id="3_pkwl5"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_oq0nc"]
vertices = PackedVector2Array(1378, 506, 1378, 474, 1510, 474, 1510, 506, 1406, 838, 1910, 506, 1910, 838, 1406, 886, 1282, 886, 1282, 838, 662, 506, 98, 838, 98, 726, 10, 726, 10, 586, 98, 586, 522, 506, 98, 506, 662, 474, 522, 474)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4), PackedInt32Array(3, 5, 6, 4), PackedInt32Array(4, 7, 8, 9, 0), PackedInt32Array(10, 0, 9, 11, 12), PackedInt32Array(12, 13, 14, 15), PackedInt32Array(10, 12, 15, 16), PackedInt32Array(15, 17, 16), PackedInt32Array(18, 10, 16, 19)])
outlines = Array[PackedVector2Array]([PackedVector2Array(88, 496, 88, 576, 0, 576, 0, 736, 88, 736, 88, 848, 1272, 848, 1272, 896, 1416, 896, 1416, 848, 1920, 848, 1920, 496, 1520, 496, 1520, 464, 1368, 464, 1368, 496, 672, 496, 672, 464, 512, 464, 512, 496)])

[node name="room_a_hall0" type="Node2D"]
script = ExtResource("1_wensy")
metadata/_custom_type_script = "uid://c1mx7iv3y3lcp"

[node name="background" type="Sprite2D" parent="."]
texture = ExtResource("2_w3fhh")
centered = false

[node name="room_nav" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_oq0nc")

[node name="transitions" type="Node2D" parent="."]

[node name="t0" type="Area2D" parent="transitions"]
position = Vector2(592, 536)
script = ExtResource("3_pkwl5")

[node name="transition_area" type="CollisionPolygon2D" parent="transitions/t0"]
position = Vector2(-88, -96)
polygon = PackedVector2Array(0, 0, 176, 0, 176, 32, 0, 32)

[node name="t1" type="Area2D" parent="transitions"]
position = Vector2(1440, 520)
script = ExtResource("3_pkwl5")

[node name="transition_area" type="CollisionPolygon2D" parent="transitions/t1"]
position = Vector2(-80, -80)
polygon = PackedVector2Array(0, 0, 168, 0, 168, 32, 0, 32)

[node name="t2" type="Area2D" parent="transitions"]
position = Vector2(96, 664)
script = ExtResource("3_pkwl5")
room_to = "room_a_mng"

[node name="transition_area" type="CollisionPolygon2D" parent="transitions/t2"]
position = Vector2(-72, 32)
polygon = PackedVector2Array(-24, -112, 8, -112, 8, 32, -24, 32)

[node name="t3" type="Area2D" parent="transitions"]
position = Vector2(1816, 680)
script = ExtResource("3_pkwl5")
room_to = "room_a_hall1"

[node name="transition_area" type="CollisionPolygon2D" parent="transitions/t3"]
position = Vector2(96, 56)
polygon = PackedVector2Array(-24, -240, 8, -240, 8, 112, -24, 112)

[node name="t4" type="Area2D" parent="transitions"]
position = Vector2(1344, 768)
script = ExtResource("3_pkwl5")

[node name="transition_area" type="CollisionPolygon2D" parent="transitions/t4"]
position = Vector2(-72, 32)
polygon = PackedVector2Array(-24, 72, 168, 72, 168, 96, -24, 96)

[connection signal="body_entered" from="transitions/t0" to="transitions/t0" method="_on_body_entered"]
[connection signal="body_entered" from="transitions/t1" to="transitions/t1" method="_on_body_entered"]
[connection signal="body_entered" from="transitions/t2" to="transitions/t2" method="_on_body_entered"]
[connection signal="body_entered" from="transitions/t3" to="transitions/t3" method="_on_body_entered"]
[connection signal="body_entered" from="transitions/t4" to="transitions/t4" method="_on_body_entered"]
